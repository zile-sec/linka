# ============================================
# LINKA BACKEND ENVIRONMENT CONFIGURATION
# ============================================

# Application Configuration
NODE_ENV=development
LOG_LEVEL=INFO
APP_NAME=Linka
APP_VERSION=1.0.0

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# MICROSERVICE URLS (Docker Internal Network)
# ============================================
USER_SERVICE_URL=http://user-service:8000
ORDER_SERVICE_URL=http://order-service:8000
PRODUCT_SERVICE_URL=http://product-service:8000
PAYMENT_SERVICE_URL=http://payment-service:8000
WALLET_SERVICE_URL=http://wallet-service:8000
INVENTORY_SERVICE_URL=http://inventory-service:8000
DELIVERY_SERVICE_URL=http://delivery-service:8000
NOTIFICATION_SERVICE_URL=http://notification-service:8000
SUBSCRIPTION_SERVICE_URL=http://subscription-service:8000
STATISTICS_SERVICE_URL=http://statistics-service:8000
STATS_PRESENTATION_SERVICE_URL=http://stats-presentation-service:8000

# ============================================
# INFRASTRUCTURE
# ============================================
# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# RabbitMQ Configuration
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
JWT_SECRET=your-jwt-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# MFA Configuration
MFA_ISSUER=Linka
MFA_CODE_EXPIRY_MINUTES=10
MFA_MAX_ATTEMPTS=3

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=false

# Session Configuration
SESSION_EXPIRY_HOURS=168
SESSION_REFRESH_THRESHOLD_HOURS=24
MAX_SESSIONS_PER_USER=5

# ============================================
# PAYMENT INTEGRATIONS (ZAMBIAN PROVIDERS)
# ============================================
# Airtel Money
AIRTEL_MONEY_API_KEY=your-airtel-api-key
AIRTEL_MONEY_API_SECRET=your-airtel-secret
AIRTEL_MONEY_BASE_URL=https://openapiuat.airtel.africa
AIRTEL_MONEY_CALLBACK_URL=https://yourdomain.com/api/callbacks/airtel

# MTN Mobile Money
MTN_MOMO_API_KEY=your-mtn-api-key
MTN_MOMO_API_SECRET=your-mtn-secret
MTN_MOMO_SUBSCRIPTION_KEY=your-mtn-subscription-key
MTN_MOMO_BASE_URL=https://sandbox.momodeveloper.mtn.com
MTN_MOMO_CALLBACK_URL=https://yourdomain.com/api/callbacks/mtn

# Zamtel Kwacha
ZAMTEL_KWACHA_API_KEY=your-zamtel-api-key
ZAMTEL_KWACHA_API_SECRET=your-zamtel-secret
ZAMTEL_KWACHA_BASE_URL=https://api.zamtel.co.zm
ZAMTEL_KWACHA_CALLBACK_URL=https://yourdomain.com/api/callbacks/zamtel

# Bank of Zambia Compliance
BOZ_SINGLE_TRANSACTION_LIMIT=50000
BOZ_DAILY_TRANSACTION_LIMIT=200000
BOZ_MONTHLY_TRANSACTION_LIMIT=1000000
BOZ_KYC_VERIFICATION_REQUIRED=true

# ============================================
# NOTIFICATION SERVICES
# ============================================
# Firebase Cloud Messaging (FCM)
FCM_SERVER_KEY=your-fcm-server-key
FCM_SENDER_ID=your-fcm-sender-id
FCM_PROJECT_ID=your-firebase-project-id

# Apple Push Notification Service (APNs)
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apns-team-id
APNS_BUNDLE_ID=com.linka.app
APNS_PRODUCTION=false

# SMS Provider (Africa's Talking)
AFRICAS_TALKING_API_KEY=your-africas-talking-api-key
AFRICAS_TALKING_USERNAME=your-africas-talking-username
AFRICAS_TALKING_SENDER_ID=Linka

# Alternative SMS Provider (Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+260123456789

# Email Provider (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@linka.co.zm
SENDGRID_FROM_NAME=Linka Platform

# ============================================
# STATISTICS & ANALYTICS DATA SOURCES
# ============================================
# Bank of Zambia (BoZ) API
BOZ_API_KEY=your-boz-api-key
BOZ_API_URL=https://api.boz.zm/v1
BOZ_DATA_FREQUENCY=daily

# ZAMSTATS (Zambia Statistics Agency)
ZAMSTATS_API_KEY=your-zamstats-api-key
ZAMSTATS_API_URL=https://api.zamstats.gov.zm/v1

# SADC Data Portal
SADC_API_KEY=your-sadc-api-key
SADC_API_URL=https://api.sadc.int/data/v1

# World Bank API
WORLD_BANK_API_URL=https://api.worldbank.org/v2
WORLD_BANK_COUNTRY_CODE=ZMB

# International Monetary Fund (IMF)
IMF_API_URL=https://www.imf.org/external/datamapper/api/v1

# ============================================
# REGULATORY COMPLIANCE
# ============================================
# ZICTA (Zambia Information and Communications Technology Authority)
ZICTA_LICENSE_NUMBER=your-zicta-license
ZICTA_COMPLIANCE_ENDPOINT=https://api.zicta.zm/compliance

# PACRA (Patents and Companies Registration Agency)
PACRA_BUSINESS_REGISTRATION_NUMBER=your-pacra-registration
PACRA_TAX_ID=your-tax-id

# ZRA (Zambia Revenue Authority)
ZRA_TPIN=your-tpin
ZRA_API_KEY=your-zra-api-key

# Bank of Zambia Licensing
BOZ_LICENSE_NUMBER=your-boz-license
BOZ_REPORTING_EMAIL=compliance@linka.co.zm

# ============================================
# SMILE ID (KYC VERIFICATION)
# ============================================
SMILE_ID_API_KEY=your-smile-id-api-key
SMILE_ID_PARTNER_ID=your-smile-id-partner-id
SMILE_ID_BASE_URL=https://api.smileidentity.com/v1
SMILE_ID_CALLBACK_URL=https://yourdomain.com/api/callbacks/smile-id

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_PUBLIC_REQUESTS_PER_MINUTE=60
RATE_LIMIT_AUTH_REQUESTS_PER_MINUTE=30
RATE_LIMIT_API_REQUESTS_PER_MINUTE=100

# ============================================
# MONITORING & LOGGING
# ============================================
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================
# FILE STORAGE
# ============================================
STORAGE_PROVIDER=local
# For production, use S3 or similar
AWS_S3_BUCKET=linka-storage
AWS_S3_REGION=af-south-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Local storage path
LOCAL_STORAGE_PATH=/app/storage

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_MFA=true
ENABLE_KYC_VERIFICATION=true
ENABLE_REALTIME_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_STATISTICS_COLLECTION=true
ENABLE_BUSINESS_ANALYTICS=true
